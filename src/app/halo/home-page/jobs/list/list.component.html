<section class="breadcrumb-area">
    <div class="breadcrumb-wrap">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumb-content d-flex flex-wrap justify-content-between align-items-center">
                        <div class="section-heading">
                            <h2 class="sec__title mb-0">Dánh sách công việc</h2>
                        </div>
                        <ul class="list-items d-flex align-items-center">
                            <li class="active__list-item"><a href="index.html">Trang chủ</a></li>
                            <li>Danh sách công việc</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="card-area padding-top-100px padding-bottom-100px">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="generic-header margin-bottom-30px">
                    <p class="showing__text text-left">Có {{jobs.length}} kết quả</p>
                    <div class="sort-option mr-3">
                        <p-dropdown [options]="sortList" [(ngModel)]="selectedSort" optionLabel="label" optionValue="code" placeholder="Sắp xếp" (onChange)="onChangeSort()">

                        </p-dropdown>

                    </div><!-- end sort-option -->
                </div>
            </div>
            <div class="col-lg-3">
                <div class="sidebar mt-0">
                    <div class="sidebar-widget">
                        <h3 class="widget-title">Tên công việc</h3>
                        <div class="contact-form-action mb-4">
                            <form action="#">
                                <div class="form-group">
                                    <span class="la la-search form-icon"></span>
                                    <input class="form-control" type="text" [(ngModel)]="dataSearch.jobTitle" placeholder="Nhập tên công việc" name="jobTitle" (change)="onChange()">
                                </div>
                            </form>
                        </div>
                        <div class="sidebar-option mb-4">
                            <h3 class="widget-title">Danh mục công việc</h3>
                            <p-dropdown [options]="categories" [(ngModel)]="dataSearch.cateId"                 optionLabel="cateName" optionValue="id" [filter]="true" filterBy="cateName" name="cateName"
	                        [showClear]="true" (onChange)="onChange()" placeholder="Chọn danh mục">
                            </p-dropdown>
                        </div>
                        <div class="sidebar-option">
                            <h3 class="widget-title">Địa chỉ</h3>
                            <p-dropdown [options]="cities" [(ngModel)]="dataSearch.cityName"                optionLabel="provinceName" optionValue="provinceName" [filter]="true" filterBy="provinceName" name="provinceName" (onChange)="onChange()"
	                        [showClear]="true" placeholder="Chọn địa chỉ">
                            </p-dropdown>
                        </div>
                    </div>
                    <!-- <div class="sidebar-widget">
                        <div class="billing-form-item">
                            <div class="billing-title-wrap">
                                <h3 class="widget-title">Lọc theo lương</h3>
                                <div class="title-shape"></div>
                            </div>
                            <div class="billing-content">
                                <div id="slider-range"></div>
                                <div class="price-slider-amount">
                                    <label for="amount" class="filter__label">Lương:</label>
                                    <input type="text" id="amount" (change)="onChange()" class="amounts" [(ngModel)]="dataSearch.salary" name="salary" >
                                </div>
                            </div>
                        </div>
                    </div> -->
                    <!-- <div class="sidebar-widget">
                        <div class="billing-form-item">
                            <div class="billing-title-wrap">
                                <h3 class="widget-title">Ngày đăng</h3>
                                <div class="title-shape"></div>
                            </div>
                            <div class="billing-content">
                                <ul>
                                    <li>
                                        <div class="radio-option">
                                            <label for="radio-1" class="radio-trigger font-size-15 font-weight-medium">
                                                <input type="radio" id="radio-1" name="radio">
                                                <span class="checkmark"></span>
                                                <span class="color-text-3">1 Giờ trước</span>
                                            </label>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="radio-option">
                                            <label for="radio-2" class="radio-trigger font-size-15 font-weight-medium">
                                                <input type="radio" id="radio-2" name="radio">
                                                <span class="checkmark"></span>
                                                <span class="color-text-3">24 giờ trước</span>
                                            </label>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="radio-option">
                                            <label for="radio-3" class="radio-trigger font-size-15 font-weight-medium">
                                                <input type="radio" id="radio-3" name="radio">
                                                <span class="checkmark"></span>
                                                <span class="color-text-3">7 ngày trước</span>
                                            </label>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="radio-option">
                                            <label for="radio-4" class="radio-trigger font-size-15 font-weight-medium">
                                                <input type="radio" id="radio-4" name="radio">
                                                <span class="checkmark"></span>
                                                <span class="color-text-3">14 ngày trước</span>
                                            </label>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="radio-option">
                                            <label for="radio-5" class="radio-trigger font-size-15 font-weight-medium">
                                                <input type="radio" id="radio-5" name="radio">
                                                <span class="checkmark"></span>
                                                <span class="color-text-3">30 ngày trước</span>
                                            </label>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="radio-option">
                                            <label for="radio-6" class="radio-trigger font-size-15 font-weight-medium">
                                                <input type="radio" id="radio-6" name="radio" checked>
                                                <span class="checkmark"></span>
                                                <span class="color-text-3">Tất cả</span>
                                            </label>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div> -->
                    <div class="sidebar-widget">
                        <div class="billing-form-item">
                            <div class="billing-title-wrap">
                                <h3 class="widget-title">Vị trí</h3>
                                <div class="title-shape"></div>
                            </div>
                            <div class="billing-content">
                                <ul>
                                    <li *ngFor="let p of positions">
                                        <div class="radio-option">
                                            <label for="p1{{p.id}}" class="radio-trigger font-size-15 font-weight-medium">
                                                <input type="radio" id="p1{{p.id}}" name="radio1" [(ngModel)]="dataSearch.positionId" value="{{p.id}}" (change)="onChange()">
                                                <span class="checkmark"></span>
                                                <span class="color-text-3">{{p.positionName}}</span>
                                            </label>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="sidebar-widget">
                        <div class="billing-form-item">
                            <div class="billing-title-wrap">
                                <h3 class="widget-title">Loại hình công việc</h3>
                                <div class="title-shape"></div>
                            </div><!-- billing-title-wrap -->
                            <div class="billing-content">
                                <ul>
                                    <li *ngFor="let type of jobTypes">
                                        <div class="radio-option">
                                            <label for="t1{{type.id}}" class="radio-trigger font-size-15 font-weight-medium">
                                                <input type="radio" id="t1{{type.id}}" name="radio" [(ngModel)]="dataSearch.jobTypeId" value="{{type.id}}" (change)="onChange()">
                                                <span class="checkmark"></span>
                                                <span class="color-text-3">{{type.jobTypeName}}</span>
                                            </label>
                                        </div>
                                        <!-- <div class="custom-checkbox">
                                            <input type="checkbox" [value]="type.id" id="t1{{type.id}}" [(ngModel)]="dataSearch.jobTypeId" name="jobTypeName">
                                            <label for="t1{{type.id}}" class="font-weight-medium">{{type.jobTypeName}}</label>
                                        </div> -->
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div class="col-lg-9">
                <div class="jobs-wrapper">
                    <div class="tab-content" id="nav-tabContent">
                        <div class="tab-pane fade active show" id="list-view" role="tabpanel" aria-labelledby="list-view-tab">
                            <div class="job-content" *ngFor ="let job of jobsPagi">
                                <div class="job-card job-card-layout">
                                    <div class="job-card-details d-flex align-items-center justify-content-between">
                                        <div class="card-head d-flex align-items-center">
                                            <div class="company-avatar mr-3">
                                                <a href="employer-details.html" class="d-block">
                                                    <img src="{{apiImg}}{{job.objCompany.objImage.location}}" alt="">
                                                </a>
                                            </div>
                                            <div class="company-title-box">
                                                <!-- <p class="card-sub mb-1 font-weight-medium">{{job.createDate | date: 'dd-MM-yyyy'}}</p> -->
                                                <h4 class="card-title mb-1"><a routerLink="{{job.id}}"> {{job.jobTitle}}</a> </h4>
                                                <p class="card-sub">
                                                    <span class="mr-2"><i class="la la-building-o color-text-2"></i> {{job.objCompany.companyName}}</span>

                                                </p>
                                                <p class="card-sub">
                                                    <span class="mr-2"><i class="la la-map-marker color-text-2"></i> {{job.objCompany.objAddress.districtName}}, {{job.objCompany.objAddress.cityName}}</span>
                                                    <span class="mr-2"><i class="la la-calendar color-text-2"></i> {{job.createDate | date: 'dd-MM-yyyy'}}</span>
                                                    <span class="mr-2"><i class="la la-clock-o color-text-2"></i> {{job.objJobType.jobTypeName}}</span>

                                                </p>
                                            </div>
                                        </div>
                                        <div class="btn-box">
                                            <a href="javascript:void(0)" (click)="applyJob(job.id,job.objAcc.accId)" class="theme-btn">Ứng tuyển</a>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="job-alert" style="margin-top: 50px;text-align: center;">
                                <h5 *ngIf="jobs.length == 0">Không có công việc nào !!!</h5>
                            </div>

                        </div>
                        <!-- <div class="tab-pane fade" id="grid-view" role="tabpanel" aria-labelledby="grid-view-tab">
                            <div class="job-content">
                                <div class="row">
                                    <div class="col-lg-6 responsive-column">
                                        <div class="job-card">
                                            <div class="job-card-content">
                                                <div class="card-head d-flex align-items-center">
                                                    <div class="company-avatar mr-3">
                                                        <a href="employer-details.html" class="d-block">

                                                        </a>
                                                    </div>
                                                    <div class="company-title-box">
                                                        <h4 class="card-title mb-1"><a href="employer-details.html">BlueTech</a> </h4>
                                                        <p class="card-sub"><i class="la la-map-marker"></i> Aberdeen, United Kingdom</p>
                                                    </div>
                                                </div>
                                                <div class="card-content mt-4 margin-bottom-30px">
                                                    <h4 class="card-title mb-2"><a href="job-details.html">Graphic Designer</a> </h4>
                                                    <p class="card-sub">Sed quia lipsum dolor sit atur adipiscing elit is nunc quis tellus sed ligula</p>
                                                </div>
                                                <div class="section-block-2"></div>
                                                <div class="card-foot d-flex align-items-center justify-content-between mt-4">
                                                    <span class="color-text-2 font-size-13"><i class="la la-briefcase"></i> Full Time</span>
                                                    <span class="color-text-2 font-size-13"><i class="la la-clock-o"></i> 3 hours ago</span>
                                                    <span class="color-text-2 font-size-13"> $20 - $25 /hr</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div> -->
                    </div>
                </div>
            </div>
        </div>
        <div class="row" *ngIf="jobs.length > 0">
            <div class="col-lg-12">
                <app-pagination [rows]="10" [totalRecords]="jobs.length" (onChange)="onChangePage($event)"></app-pagination>
            </div>
        </div>
    </div>
</section>

<div class="section-block"></div>
